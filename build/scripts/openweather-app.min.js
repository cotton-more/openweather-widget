(function(){var a;a=angular.module("openweatherApp",[]),a.controller("MainController",["$scope","openweather",function(a,b){return a.searchByCityName=function(){return a.cities=[],a.currentCity=null,b.getCitiesByName(a.cityName).then(function(b){return a.message=null,"200"===b.data.cod&&b.data.count?1===b.data.count?a.currentCity=b.data.list[0]:a.cities=b.data.list:a.message=b.data.message?b.data.cod+": "+b.data.message:b.data.cod+": error"})},a.showForecast=function(b){return a.currentCity=b}}]),a.service("openweather",["$http",function(a){var b;b="http://api.openweathermap.org/data/2.5/",this.getCitiesByName=function(c){var d;return d={q:c,type:"accurate"},localStorage.getItem("openweather.appid")&&(d.APPID=localStorage.getItem("openweather.appid")),a.get(b+"find",{params:d})}}]),a.filter("temp",function(){var a;return a=273.15,function(b){var c;return c=parseFloat(b-a),isNaN(c)?void 0:c.toFixed(1)}})}).call(this);